<div class="row">
    <div class="container">
      <h2>Customer Testimonials</h2>
    </div>
  </div>
<section class="row slides">
    <div class="container inner-slides" id="imgContainer">
        {{ range .Site.Data.testimonials  }}
        <div class="col-100 slide">
            <div class="row">
                <div class="col-50 portrait">
                    <figure>
                        <img src="{{ .Site.BaseURL }}{{ .imgSrc }}" alt="{{ .name }}">
                        <figcaption><span>{{ .name }}</span></figcaption>
                    </figure>
                </div>
                <div class="col-50">
                    <span class="testimonial">{{ .text }} </span>
                </div>
            </div>
        </div>
         {{ end }}
    </div>
    <!--
        
    <div class="buttons-container">
        <button id="left">Prev</button>
        <button id="right">Next</button>
    </div>
-->
</section>

<section class="row clients">
    <header>
        <h2>Our Happy Clients</h2>
    </header>
    <div class="container">
        <ul>
            <li><a href="https://littlecaesars.com/en-us/store/7391">Little Caesars</a></li>     
<li><a href="https://locations.tropicalsmoothiecafe.com/mi/traverse-city">Tropical Smoothies</a></li>
<li><a href="https://www.buffalowildwings.com/en/locations/detail/3556/?utm_source=google&utm_medium=organic&utm_campaign=rio">Buffalo Wild Wings</a></li>
<li><a href="https://www.peegeos.com/">Peegeo's Pizza</a></li>
<li><a href="https://www.jetspizza.com/stores/michigan/traverse-city/1130-garfield-rd-s/">Jet's Pizza</a></li>
<li><a href="https://robbystaqueriatc.com/">Robby's Mexican & Spanish Cuisine</a></li>
<li><a href="https://locations.papajohns.com/united-states/mi/49686-4740/traverse-city/1338-s-airport-rd-w?utm_source=gmb&utm_medium=organic">Papa John's Traverse City</a></li>
<li><a href="https://www.hopscotchbrickovenmi.com/">Hopscotch Brick Oven & Taproom</a></li>
<li><a href="https://michaelstavernandsteakhouse.com/">Michael's Tavern & Steakhouse</a></li>
        </ul>
    </div>
</section>

<script>
    const imgCont = document.getElementById('imgContainer');
    const slides = document.querySelectorAll('.slide');
    const leftBtn = document.getElementById('left');
    const rightBtn = document.getElementById('right');
    let innerSlide = document.querySelector('.inner-slides')
    let interval = setInterval(run, 7000);
    let slideCounter = 0;

    run();

    function run() {
        slideCounter++;
        changeImage();
        }

    function changeImage() {
        if (slideCounter > slides.length - 1) {
            slideCounter = 0;
        } else if (slideCounter < 0) {
            slideCounter = slides.length - 1;
        }
        imgCont.style.transform = `translateX(${-slideCounter * 100}%)`;
    }

    function resetInterval() {
        clearInterval(interval);
        interval = setInterval(run, 2000);
    }
    
</script>
